document.write("<style>\n        [m-render] {\n            display: none;\n        }\n</style>"),function(e){e.fn.render=function(r,n){var t=e(this),a=[];e.each(r,function(e,n){r.hasOwnProperty(e)&&(a.push("var "),a.push(e),a.push(" = this."),a.push(e),a.push(";"))}),a.push("return eval(expression);");var o=new Function("expression",a.join("")),i=function(e,r){for(var n,t=/{{[^{]+}}/g;null!==(n=t.exec(e));){var a=n[0],o=a.replace(/{{([^{]+)}}/g,"$1");try{e=e.replace(a,r(o))}catch(r){console.error(r),e=e.replace(a,"")}}return e},u=function(e,r){var n=e.attr("m-if");if(n){if("false"===n)return e.remove(),!1;var t=r(n);if(t instanceof Function&&(t=t.call(e[0])),!1===t||"false"===n)return e.remove(),!1}return e.removeAttr("m-if"),!0},c=function(r,n){e.each(r[0].attributes,function(r,t){var a=e.trim(t.value);a&&""!==a&&(t.value=i(a,n))}),e.each(r[0].childNodes,function(r,t){if(3===t.nodeType){var a=e.trim(t.nodeValue);a&&""!==a&&(t.nodeValue=i(a,n))}})},l=function(r,n){e.each(r[0].attributes,function(t,a){e.trim(a.value);var o=e.trim(a.nodeName);if(new RegExp("^m-on-\\S+").test(o)){var i=o.replace(new RegExp("^m-on-(\\S+)"),"$1"),u=r.attr(o);u&&(r.on(i,function(){var e=n(u);e instanceof Function&&e.apply(this,arguments)}),r.removeAttr(o))}})},f=function(r,n){var t=e.trim(r.attr("m-for"));if(""===t)return!1;var a=t.replace(/(\S+)\s*,\s*(\S+)\s*\s+in\s+(.+)/,"$1,$2,$3");if(a===t)throw new Error('Unrecognized value format "'+t+'" m-for tag should like m-for="index,item in source"');var o=(a=a.split(","))[0],i=a[1],u=a[2],c=r.html();r.empty();var l=n(u),f=function(e,r,t){return n("(function (obj){var "+o+" = obj.index;var "+i+" = "+u+"[obj.index];return eval(obj.exp);}).call("+u+"["+r+"],{index: "+r+',exp: "'+t.split('"').join('\\"')+'"})')};if(!(l instanceof Array))throw new Error(u+" is not a array-like object!");return e.each(l,function(n,t){var a=e(c);a.appendTo(r),m(a,function(e){return f.call(null,t,n,e)})}),r.removeAttr("m-for"),!0},s=function(e,r){var n=e.attr("m-ready");if(n){var t=r.call(null,n);t instanceof Function&&t.call(e[0]),e.removeAttr("m-ready")}},m=function(r,n){c(r,n),u(r,n)&&(f(r,n)||r.children().each(function(){m(e(this),n)}),l(r,n)),s(r,n)},v=t.data("render-template");return v?t.html(v):t.data("render-template",t.html()),m(t,function(e){return o.call(r,e)}),n&&n.call(this,r),t.fadeIn(),t.removeAttr("m-render"),t}}(window.jQuery);